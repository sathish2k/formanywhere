/* ═══════════════════════════════════════════════════════════════════════════════
   M3 RIPPLE - Based on material-components/material-web
   ═══════════════════════════════════════════════════════════════════════════════ */

.m3-ripple-surface {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    border-radius: inherit;
    -webkit-tap-highlight-color: transparent;

    /* Hover state layer */
    &::before {
        content: '';
        position: absolute;
        inset: 0;
        opacity: 0;
        background-color: var(--ripple-color, var(--m3-color-on-surface, #1d1b20));
        transition: opacity 15ms linear, background-color 15ms linear;
    }

    &.hovered::before {
        background-color: var(--ripple-color, var(--m3-color-on-surface, #1d1b20));
        opacity: var(--ripple-hover-opacity, 0.08);
    }

    /* Ripple circle (animated via Web Animations API) */
    &::after {
        content: '';
        position: absolute;
        opacity: 0;
        background: radial-gradient(closest-side, var(--ripple-color, var(--m3-color-on-surface, #1d1b20)) max(calc(100% - 70px), 65%), transparent 100%);
        transform-origin: center center;
        transition: opacity 375ms linear;
    }

    &.pressed::after {
        opacity: var(--ripple-pressed-opacity, 0.12);
        transition-duration: 105ms;
    }
}

/* Hide ripple in High-Contrast Mode */
@media (forced-colors: active) {
    .m3-ripple-surface {
        display: none;
    }
}
