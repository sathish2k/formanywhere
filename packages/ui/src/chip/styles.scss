/* ═══════════════════════════════════════════════════════════════════════════════
   M3 CHIP - Based on material-components/material-web
   ═══════════════════════════════════════════════════════════════════════════════ */

.md-chip {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    height: 32px;
    padding: 0 16px;
    border-radius: var(--m3-shape-small, 8px);
    font-size: 14px;
    font-weight: 500;
    font-family: var(--m3-font-body, 'Inter', system-ui, sans-serif);
    cursor: pointer;
    border: 1px solid var(--m3-color-outline, rgba(120, 117, 121, 0.4));
    background: transparent;
    color: var(--m3-color-on-surface, #1D1B20);
    overflow: hidden;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    transition: background var(--m3-motion-duration-short, 150ms) var(--m3-motion-easing-standard, cubic-bezier(0.2, 0, 0, 1)),
                box-shadow var(--m3-motion-duration-short, 150ms) var(--m3-motion-easing-standard, cubic-bezier(0.2, 0, 0, 1));

    /* ─── SIZE VARIANTS ────────────────────────────────────────────────────────── */

    &.size-sm {
        height: 24px;
        padding: 0 8px;
        gap: 4px;
        font-size: 12px;
        border-radius: var(--m3-shape-extra-small, 4px);

        svg { width: 14px; height: 14px; }
    }

    &.size-md {
        /* Default — no overrides needed */
    }

    &.size-lg {
        height: 40px;
        padding: 0 20px;
        gap: 10px;
        font-size: 16px;
        border-radius: var(--m3-shape-medium, 12px);

        svg { width: 20px; height: 20px; }
    }

    &.disabled {
        cursor: not-allowed;
        opacity: 0.38;
        pointer-events: none;
    }

    &:hover:not(.disabled) {
        background: var(--m3-color-on-surface-variant, rgba(73, 69, 78, 0.08));
    }

    &:focus-visible {
        outline: 2px solid var(--m3-color-primary, #6750A4);
        outline-offset: 1px;
    }

    /* ─── SELECTED STATE ───────────────────────────────────────────────────────── */

    &.selected {
        border: none;
        background: var(--m3-color-secondary-container, rgba(139, 92, 246, 0.12));
        color: var(--m3-color-on-secondary-container, #1d192b);

        &:hover:not(.disabled) {
            box-shadow: var(--m3-elevation-1);
        }
    }

    /* ─── ELEVATED ─────────────────────────────────────────────────────────────── */

    &.elevated {
        border: none;
        background: var(--m3-color-surface-container-low, rgba(255, 255, 255, 0.55));
        box-shadow: var(--m3-elevation-1);

        &:hover:not(.disabled) {
            box-shadow: var(--m3-elevation-2);
        }
    }

    /* ─── LABEL VARIANT (pill badge) ───────────────────────────────────────────── */

    &.label {
        height: auto;
        padding: 4px 12px;
        border-radius: var(--m3-shape-full, 9999px);
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        cursor: default;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        gap: 4px;

        &,
        &[data-color="default"],
        &[data-color="primary"] {
            background: var(--m3-color-primary-container, rgba(91, 95, 237, 0.12));
            color: var(--m3-color-on-primary-container, #1a1a4a);
            border: 1px solid color-mix(in srgb, var(--m3-color-primary) 20%, transparent);
        }

        &[data-color="secondary"] {
            background: var(--m3-color-secondary-container, rgba(142, 51, 255, 0.12));
            color: var(--m3-color-on-secondary-container, #1d192b);
            border: 1px solid color-mix(in srgb, var(--m3-color-secondary) 20%, transparent);
        }

        &[data-color="info"] {
            background: var(--m3-color-tertiary-container, rgba(0, 184, 217, 0.12));
            color: var(--m3-color-on-tertiary-container, #006C9C);
            border: 1px solid color-mix(in srgb, var(--m3-color-tertiary) 20%, transparent);
        }

        &[data-color="success"] {
            background: var(--m3-color-success-container, rgba(34, 197, 94, 0.12));
            color: var(--m3-color-success, #22C55E);
            border: 1px solid color-mix(in srgb, var(--m3-color-success, #22C55E) 20%, transparent);
        }

        &[data-color="warning"] {
            background: var(--m3-color-warning-container, rgba(255, 171, 0, 0.12));
            color: var(--m3-color-warning, #FFAB00);
            border: 1px solid color-mix(in srgb, var(--m3-color-warning, #FFAB00) 20%, transparent);
        }

        &[data-color="error"] {
            background: var(--m3-color-error-container, rgba(255, 86, 48, 0.12));
            color: var(--m3-color-error, #FF5630);
            border: 1px solid color-mix(in srgb, var(--m3-color-error, #FF5630) 20%, transparent);
        }
    }

    /* ─── GLASS CHIP ───────────────────────────────────────────────────────────── */

    &.glass {
        background: var(--glass-tint-light, rgba(255, 255, 255, 0.7));
        border: 1px solid var(--glass-border-medium, rgba(255, 255, 255, 0.4));
        backdrop-filter: blur(var(--glass-blur, 20px));
        -webkit-backdrop-filter: blur(var(--glass-blur, 20px));
        box-shadow: var(--glass-shadow, 0 4px 16px rgba(0,0,0,0.06));
    }
}

/* ─── REMOVE BUTTON (input chips) ──────────────────────────────────────────── */

.md-chip__remove {
    display: flex;
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    color: inherit;
    margin-left: 4px;
    margin-right: -8px;
    border-radius: 50%;
    transition: opacity var(--m3-motion-duration-short, 100ms);

    &:hover {
        opacity: 0.7;
    }
}
