---
/**
 * Integrations Section - Sync When Online
 * Emphasizes data syncs when internet is available
 */
import { Typography } from "@formanywhere/ui/typography";
import { Button } from "@formanywhere/ui/button";

const integrations1 = [
  {
    name: "Google Sheets",
    icon: "https://cdn.svgporn.com/logos/google-sheets.svg",
  },
  {
    name: "Slack",
    icon: "https://cdn.svgporn.com/logos/slack-icon.svg",
  },
  {
    name: "Notion",
    icon: "https://cdn.svgporn.com/logos/notion-icon.svg",
  },
  {
    name: "Airtable",
    icon: "https://cdn.svgporn.com/logos/airtable-icon.svg",
  },
  {
    name: "Zapier",
    icon: "https://cdn.svgporn.com/logos/zapier-icon.svg",
  },
  {
    name: "Microsoft Teams",
    icon: "https://cdn.svgporn.com/logos/microsoft-teams.svg",
  },
  {
    name: "Webhook",
    icon: "https://cdn.svgporn.com/logos/webhooks.svg",
  },
  {
    name: "REST API",
    icon: "https://cdn.svgporn.com/logos/openapi-icon.svg",
  },
];

// Duplicate for infinite scroll
const row1 = [...integrations1, ...integrations1, ...integrations1];
const row2 = [
  ...[...integrations1].reverse(),
  ...integrations1,
  ...integrations1,
];
---

<section class="section relative overflow-hidden py-32 bg-background-default">
  <!-- Background Ambience -->
  <div class="absolute inset-0 pointer-events-none">
    <div
      class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-secondary/5 rounded-full blur-[120px] mix-blend-multiply"
    >
    </div>
    <div
      class="absolute bottom-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[100px] mix-blend-multiply"
    >
    </div>
  </div>

  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 mb-20 text-center"
  >
    <div
      class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-surface-container border border-outline-variant/50 backdrop-blur-md mb-8 shadow-sm"
    >
      <span class="relative flex h-2 w-2">
        <span
          class="animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"
        ></span>
        <span class="relative inline-flex rounded-full h-2 w-2 bg-success"
        ></span>
      </span>
      <span
        class="text-xs font-bold tracking-widest text-on-surface-variant uppercase"
        >Sync When Online</span
      >
    </div>

    <Typography
      variant="display-medium"
      color="on-surface"
      as="h2"
      class="text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-on-surface to-on-surface-variant mb-6 tracking-tight"
    >
      Works Offline,<br /><span
        class="text-transparent bg-clip-text bg-gradient-to-r from-primary via-tertiary to-secondary animate-gradient-text"
        >Syncs Everywhere</span
      >
    </Typography>
    <p class="text-xl text-on-surface-variant/80 max-w-2xl mx-auto">
      Collect data without internet. When you're back online, automatically sync
      to your favorite tools.
    </p>
  </div>

  <!-- Infinite Scroll Container -->
  <div class="relative w-full overflow-hidden space-y-8 pb-20">
    <!-- Fade Masks -->
    <div
      class="absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-background-default to-transparent z-20 pointer-events-none"
    >
    </div>
    <div
      class="absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-background-default to-transparent z-20 pointer-events-none"
    >
    </div>

    <!-- Row 1: Left Scroll -->
    <div class="flex gap-6 animate-scroll-left hover:pause w-max pl-6">
      {
        row1.map((item, i) => (
          <div class="group relative w-64 h-24 rounded-2xl bg-surface/40 backdrop-blur-xl border border-white/40 shadow-lg flex items-center gap-4 px-6 transition-all duration-300 hover:scale-105 hover:bg-surface/60 hover:shadow-2xl hover:border-white/60 cursor-pointer">
            {/* Glass Shine */}
            <div class="absolute inset-0 rounded-2xl bg-gradient-to-tr from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none" />

            <div class="w-12 h-12 rounded-xl bg-white/80 flex items-center justify-center p-2 shadow-sm shrink-0">
              <img
                src={item.icon}
                alt={item.name}
                class="w-full h-full object-contain"
              />
            </div>

            <div>
              <div class="font-bold text-on-surface text-lg">{item.name}</div>
              <div class="text-xs font-medium text-on-surface-variant opacity-70">
                Sync target
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <!-- Row 2: Right Scroll (Slower) -->
    <div class="flex gap-6 animate-scroll-right hover:pause w-max pl-6">
      {
        row2.map((item, i) => (
          <div class="group relative w-64 h-24 rounded-2xl bg-surface-container/30 backdrop-blur-xl border border-white/30 shadow-lg flex items-center gap-4 px-6 transition-all duration-300 hover:scale-105 hover:bg-surface-container/50 hover:shadow-2xl hover:border-white/50 cursor-pointer">
            {/* Glass Shine */}
            <div class="absolute inset-0 rounded-2xl bg-gradient-to-bl from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none" />

            <div class="w-12 h-12 rounded-xl bg-white/50 flex items-center justify-center p-2 shadow-sm shrink-0 grayscale group-hover:grayscale-0 transition-all duration-300">
              <img
                src={item.icon}
                alt={item.name}
                class="w-full h-full object-contain"
              />
            </div>

            <div>
              <div class="font-bold text-on-surface text-lg">{item.name}</div>
              <div class="text-xs font-medium text-on-surface-variant opacity-70">
                Auto-sync
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <div class="text-center relative z-10">
    <Button
      variant="filled"
      size="lg"
      class="rounded-full shadow-xl shadow-primary/20 hover:shadow-primary/40 transform hover:-translate-y-1 transition-all"
    >
      See All Integrations
    </Button>
  </div>
</section>

<style>
  @keyframes scroll-left {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(calc(-50% - 1.5rem));
    } /* Adjust based on items width */
  }
  @keyframes scroll-right {
    from {
      transform: translateX(calc(-50% - 1.5rem));
    }
    to {
      transform: translateX(0);
    }
  }
  @keyframes gradient-text {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-scroll-left {
    animation: scroll-left 40s linear infinite;
  }
  .animate-scroll-right {
    animation: scroll-right 45s linear infinite;
  }
  .animate-gradient-text {
    background-size: 200% auto;
    animation: gradient-text 4s linear infinite;
  }
  .pause:hover {
    animation-play-state: paused;
  }
</style>
